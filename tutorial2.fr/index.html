
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
        <head>
                <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
                <title>web.py 0.2 tutorial (web.py)</title>
                <link rel="stylesheet" type="text/css" href="/static/webpy-new.css"/>
                <link rel="SHORTCUT ICON" href="/static/favicon.ico"/>
        </head>
<body>

        <div id="header">
                <span class="logo"><a href="/" title="Home"><img src="/static/webpy.gif" alt="" /></a></span>
                <span class="blurb">&quot;Think about the ideal way to write a web app.<br />Write the code to make it happen.&quot; <a href="http://groups.google.com/group/webpy/msg/f266701d97e7ceb1">(More...)</a></span>
        </div>

        <div id="location">
                <a href="/">home</a> &gt; web.py 0.2 tutorial
        </div>

<div id="container">
        <div id="sidebar">
                  <strong>Get It:</strong><br />
                  &nbsp;<a href="/download">download</a><br />
                  &nbsp;<a href="/changes">change log</a><br />
                  <br />
                  
                  <strong>Learn It:</strong><br />
                  &nbsp;<a href="/install">install</a><br />
                  &nbsp;<a href="/tutorial3.en">tutorial</a><br />

                  &nbsp;<a href="/faq">faq</a><br />
                  &nbsp;<a href="/docs/0.3">docs</a><br />
                  &nbsp;<a href="/recommended_setup">setup</a><br />
          &nbsp;<a href="/cookbook">cookbook</a><br/>
                  <br />
                  
                  <strong>Discuss It:</strong><br />
                  &nbsp;<a href="http://groups.google.com/group/webpy/">mailing list</a><br />
                  &nbsp;<a href="irc://irc.freenode.net/webpy">irc</a><br />
                  <br />
        
                  <strong>Follow It:</strong><br />
                  &nbsp;<a href="http://github.com/webpy/webpy">code</a><br />
          &nbsp;<a href="http://launchpad.net/webpy">launchpad</a><br />
</div>

<div id="main">
<div id="content">


<h1>web.py 0.2 tutorial</h1>

<h2>Installation</h2>
<p>Vous  connaissez Python et vous voulez construire un site web. Web.py fournit le code pour faire cela d'une manière simple.
</p>
<p>Si vous voulez faire l’ensemble de ce tutoriel vous devrez installer Python, web.py, flup, psycopg2 et Postgres (ou une autre base de données avec son driver pour Python, par exemple : MySQL et mysqldb). Pour plus de détails voir le site de <a href="http://webpy.org/">webpy.org</a>.
</p>
<p>Si vous avez un projet web.py existant, regardez la page de <a href="http://webpy.infogami.com/upgrade_to_point2">upgrade</a> pour plus d’informations sur la migration vers la nouvelle version.
</p>

<h2>Gestion des URLs</h2>
<p>La partie la plus importante pour chaque site web  est la structure des URLs. Les URLs ne sont pas seulement ce que les visiteurs regarde et partage avec d’autres amis, mais ils sont aussi un modèle mental qui indique comment un Site Web fonctionne. (Dans les sites populaires comme <a href="http://del.icio.us/">del.icio.us</a>, les URLs font partie de l’interface de l’utilisateur). Pour cela Web.py facilite la création et la gestion des URL.
</p>
<p>Pour commencer l’application  web.py , Créez un nouveau fichier et appelez le code.py par exemple et écrivez ceci dedans:
</p>
<pre><code>import web
</code></pre><p>Ceci importera le module web.py.
</p>
<p>Maintenant on implémente la structure de nos URLs, on commence par quelque chose de simple, ajoutez cela :
</p>
<pre><code>urls = (
  '/', 'index'    )
</code></pre><p>La première partie est l’<a href="http://osteele.com/tools/rework/">expression régulière</a>  qui représente un chemin. Par exemple : ‘/’, ‘/aide/faq’, ‘/article/(d+)’, etc. Le d+ représente une séquence de chiffres. Les parenthèses (..) servent à capturer les éléments retournés pour plus tard. La deuxième partie est le nom d’une classe à laquelle envoyer la requête, comme view, welcomes.hello (qui utilise la classe hello du module welcomes), ou bien get_1. 1 est remplacé par la première capture de l’expression régulière. Toutes captures restantes seront passées à la fonction.
</p>
<p>La ligne ('/', 'index') dis qu’on a besoin de l’URL ‘/’ (i.e la page d’accueil) qui sera prit en charge  par la classe nommé ‘index’.
</p>
<p>Maintenant on écrit le code de la classe index:
</p>
<pre><code>class index:
    def GET(self):
        print &quot; Bonjour, monde !&quot;
</code></pre><p>Comme vous avez pu le deviner, <code>GET</code> est appelé par web.py lorsque quelqu’un appelle la méthode HTTP GET sur votre URL ‘/’ (c’est-à-dire quand ils la visitent avec un navigateur web). La dernière ligne renvoie le texte brut “Bonjour, monde !” au visiteur.
</p>
<p>Tous est bon maintenant, on aura besoin que de finir en ajoutant la ligne qui démarre l’application web
</p>
<pre><code>if __name__ == &quot;__main__&quot;: web.run(urls, globals())
</code></pre><p>Ceci dit à web.py de lancer votre application avec <code>urls</code> en regardant toutes les classes présentes dans le fichier.
</p>
<p>Pour lancer le serveur web faisant tourner votre application tapez dans une invite de commande:
</p>
<pre><code>$ python code.py
Launching server: http://0.0.0.0:8080/
</code></pre><p>Maintenant si vous visitez http://0.0.0.0:8080/ avec un navigateur web, vous devriez voir apparaître “Bonjour, monde !”.
</p>
<p><strong>Note:</strong> vous pouvez spécifier le port en le passant comme paramètre
</p>
<pre><code>$ python code.py 1234
</code></pre><p>Puis visiter la page : http://0.0.0.0:1234/
</p>
<p>(La suite à accomplir...)
</p>




<div style="clear: both;"></div>

</div>

</div>

        <div id="footer">
    <p>started by <a style="color: gray;" href="http://www.aaronsw.com/">Aaron Swartz</a> (<a style="color: black;" href="mailto:webpy@aaronsw.com">webpy@aaronsw.com</a>)</p>
</div>

</body>
</html>
